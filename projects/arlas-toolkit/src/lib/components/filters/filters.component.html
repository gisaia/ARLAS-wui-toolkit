<div class="filters-chips--container">
  <mat-chip-list class="filters-chips">
    <span class="home-filters-logo"><img *ngIf="logoUrl!==undefined" class="filters-logo" src="{{logoUrl}}"></span>
    <span class="home-chip--label" (click)="removeAllFilters()" matTooltip="{{ 'Clear all filters' | translate }}">
      {{title | translate}}</span>
    <ng-container *ngFor="let contributorId of collaborations; let index = index">
      <mat-basic-chip id="filter-chip-{{contributorId}}" class="filter-chip" *ngIf="contributorId === 'timeline'"
        [style.color]="contributorId | getGlobalColorFilter:'color':color:backgroundColor:collaborationsMap "
        [style.background-color]="contributorId | getGlobalColorFilter:'background':color:backgroundColor:collaborationsMap "
        (click)="changeCollaborationState(contributorId)"
        [matTooltip]="contributorId | getContributorLabel:contributors | translate">
        <mat-icon class="filter-chip__icon">{{contributorId | getCollaborationIcon :contributorsIcons }}</mat-icon>
        <mat-icon (click)="removeCollaboration(contributorId)" class="filter-chip__icon_close mat-icon material-icons">
          clear</mat-icon>
      </mat-basic-chip>
    </ng-container>
  </mat-chip-list>
  <mat-chip-list class="counts-chips">
    <ng-container *ngFor="let c of countAll">
      <mat-basic-chip class="count-chip mat-elevation-z1" id="arlas-count" [style.borderColor]="c.color"
        *ngIf="!c.ignored">
        <div class="count-container">
          <div *ngIf="c.hasCentroidPath" class="zoom" (click)="zoomToData(c.collection)"
            matTooltip="{{ 'Zoom to data' | translate }}">
            <mat-icon>filter_center_focus</mat-icon>
          </div>

          <div class="value-unit">
            <div class="value">
              {{c.count | formatNumber:NUMBER_FORMAT_CHAR}}
            </div>
            <div class="unit">
              {{c.unit | translate}}
            </div>
          </div>
          <ng-container *ngFor="let contributorId of collaborations; let index = index">
            <mat-basic-chip id="filter-chip-{{contributorId}}" class="filter-chip"
              *ngIf="c.collection === contributors.get(contributorId).collection && contributorId !== 'timeline'"
              [style.color]="contributorId | getGlobalColorFilter:'color':colorFilter:backgroundColorFilter:collaborationsMap "
              [style.background-color]="contributorId | getGlobalColorFilter:'background':colorFilter:backgroundColorFilter:collaborationsMap "     
              (click)="changeCollaborationState(contributorId)"
              [matTooltip]="contributorId | getContributorLabel:contributors | translate">
              <mat-icon class="filter-chip__icon">{{contributorId | getCollaborationIcon :contributorsIcons }}
              </mat-icon>
              <mat-icon (click)="removeCollaboration(contributorId)"
                class="filter-chip__icon_close mat-icon material-icons">
                clear</mat-icon>
            </mat-basic-chip>
          </ng-container>
        </div>
      </mat-basic-chip>
    </ng-container>
  </mat-chip-list>
</div>
